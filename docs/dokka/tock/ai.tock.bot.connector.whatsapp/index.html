<HTML>
<HEAD>
<meta charset="UTF-8">
<title>ai.tock.bot.connector.whatsapp - tock</title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">tock</a>&nbsp;/&nbsp;<a href="./index.html">ai.tock.bot.connector.whatsapp</a><br/>
<br/>
<h2>Package ai.tock.bot.connector.whatsapp</h2>
<p>WhatsApp connector implementation</p>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-whats-app-connector/index.html">WhatsAppConnector</a></h4>
</td>
<td>
<code><span class="keyword">class </span><span class="identifier">WhatsAppConnector</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../ai.tock.bot.connector/-connector-base/index.html"><span class="identifier">ConnectorBase</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="-whats-app-connector-callback/index.html">WhatsAppConnectorCallback</a></h4>
</td>
<td>
<p>The WhatsApp <a href="../ai.tock.bot.connector/-connector-callback/index.html">ConnectorCallback</a>.</p>
<code><span class="keyword">class </span><span class="identifier">WhatsAppConnectorCallback</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../ai.tock.bot.connector/-connector-callback-base/index.html"><span class="identifier">ConnectorCallbackBase</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="-whats-app-connector-data/index.html">WhatsAppConnectorData</a></h4>
</td>
<td>
<p>Dedicated Whatsapp parameters.</p>
<code><span class="keyword">class </span><span class="identifier">WhatsAppConnectorData</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../ai.tock.bot.connector/-connector-data/index.html"><span class="identifier">ConnectorData</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Annotations</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-whats-app-handler/index.html">WhatsAppHandler</a></h4>
</td>
<td>
<p>To specify <a href="../ai.tock.bot.definition/-connector-story-handler/index.html">ConnectorStoryHandler</a> for WhatsApp connector.
<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html">KClass</a> passed as <a href="-whats-app-handler/value.html">value</a> of this annotation must have a primary constructor
with a single not optional <a href="#">StoryHandlerDefinitionBase</a> argument.</p>
<code><span class="keyword">annotation</span> <span class="keyword">class </span><span class="identifier">WhatsAppHandler</span></code></td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="whats-app-connector-type.html">whatsAppConnectorType</a></h4>
</td>
<td>
<p>The WhatsApp connector type.</p>
<code><span class="keyword">val </span><span class="identifier">whatsAppConnectorType</span><span class="symbol">: </span><a href="../ai.tock.bot.connector/-connector-type/index.html"><span class="identifier">ConnectorType</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="end-for-whats-app.html">endForWhatsApp</a></h4>
</td>
<td>
<p>Sends an WhatsApp message as last bot answer, only if the <a href="../ai.tock.bot.connector/-connector-type/index.html">ConnectorType</a> of the current <a href="../ai.tock.bot.engine/-bot-bus/index.html">BotBus</a> is <a href="whats-app-connector-type.html">whatsAppConnectorType</a>.</p>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../ai.tock.bot.engine/-bus/index.html"><span class="identifier">Bus</span></a><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span> <span class="identifier">T</span><span class="symbol">.</span><span class="identifier">endForWhatsApp</span><span class="symbol">(</span><span class="identifier" id="ai.tock.bot.connector.whatsapp$endForWhatsApp(ai.tock.bot.connector.whatsapp.endForWhatsApp.T, kotlin.Function1((ai.tock.bot.connector.whatsapp.endForWhatsApp.T, ai.tock.bot.connector.whatsapp.model.send.WhatsAppBotMessage)), kotlin.Long)/messageProvider">messageProvider</span><span class="symbol">:</span>&nbsp;<span class="identifier">T</span><span class="symbol">.</span><span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../ai.tock.bot.connector.whatsapp.model.send/-whats-app-bot-message/index.html"><span class="identifier">WhatsAppBotMessage</span></a><span class="symbol">, </span><span class="identifier" id="ai.tock.bot.connector.whatsapp$endForWhatsApp(ai.tock.bot.connector.whatsapp.endForWhatsApp.T, kotlin.Function1((ai.tock.bot.connector.whatsapp.endForWhatsApp.T, ai.tock.bot.connector.whatsapp.model.send.WhatsAppBotMessage)), kotlin.Long)/delay">delay</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><span class="identifier">Long</span></a>&nbsp;<span class="symbol">=</span>&nbsp;defaultDelay(currentAnswerIndex)<span class="symbol">)</span><span class="symbol">: </span><span class="identifier">T</span></code></td>
</tr>
<tr>
<td>
<h4><a href="send-to-whats-app.html">sendToWhatsApp</a></h4>
</td>
<td>
<p>Sends an WhatsApp message only if the <a href="../ai.tock.bot.connector/-connector-type/index.html">ConnectorType</a> of the current <a href="../ai.tock.bot.engine/-bot-bus/index.html">BotBus</a> is <a href="whats-app-connector-type.html">whatsAppConnectorType</a>.</p>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../ai.tock.bot.engine/-bus/index.html"><span class="identifier">Bus</span></a><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span> <span class="identifier">T</span><span class="symbol">.</span><span class="identifier">sendToWhatsApp</span><span class="symbol">(</span><span class="identifier" id="ai.tock.bot.connector.whatsapp$sendToWhatsApp(ai.tock.bot.connector.whatsapp.sendToWhatsApp.T, kotlin.Function1((ai.tock.bot.connector.whatsapp.sendToWhatsApp.T, ai.tock.bot.connector.whatsapp.model.send.WhatsAppBotMessage)), kotlin.Long)/messageProvider">messageProvider</span><span class="symbol">:</span>&nbsp;<span class="identifier">T</span><span class="symbol">.</span><span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../ai.tock.bot.connector.whatsapp.model.send/-whats-app-bot-message/index.html"><span class="identifier">WhatsAppBotMessage</span></a><span class="symbol">, </span><span class="identifier" id="ai.tock.bot.connector.whatsapp$sendToWhatsApp(ai.tock.bot.connector.whatsapp.sendToWhatsApp.T, kotlin.Function1((ai.tock.bot.connector.whatsapp.sendToWhatsApp.T, ai.tock.bot.connector.whatsapp.model.send.WhatsAppBotMessage)), kotlin.Long)/delay">delay</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><span class="identifier">Long</span></a>&nbsp;<span class="symbol">=</span>&nbsp;defaultDelay(currentAnswerIndex)<span class="symbol">)</span><span class="symbol">: </span><span class="identifier">T</span></code></td>
</tr>
<tr>
<td>
<h4><a href="whats-app-image.html">whatsAppImage</a></h4>
</td>
<td>
<p>Creates a <a href="../ai.tock.bot.connector.whatsapp.model.send/-whats-app-bot-image-message/index.html">WhatsAppBotImageMessage</a>.</p>
<code><span class="keyword">fun </span><a href="../ai.tock.bot.engine/-bot-bus/index.html"><span class="identifier">BotBus</span></a><span class="symbol">.</span><span class="identifier">whatsAppImage</span><span class="symbol">(</span><span class="identifier" id="ai.tock.bot.connector.whatsapp$whatsAppImage(ai.tock.bot.engine.BotBus, kotlin.ByteArray, kotlin.String, kotlin.CharSequence)/byteImages">byteImages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-byte-array/index.html"><span class="identifier">ByteArray</span></a><span class="symbol">, </span><span class="identifier" id="ai.tock.bot.connector.whatsapp$whatsAppImage(ai.tock.bot.engine.BotBus, kotlin.ByteArray, kotlin.String, kotlin.CharSequence)/contentType">contentType</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a>&nbsp;<span class="symbol">=</span>&nbsp;"image/png"<span class="symbol">, </span><span class="identifier" id="ai.tock.bot.connector.whatsapp$whatsAppImage(ai.tock.bot.engine.BotBus, kotlin.ByteArray, kotlin.String, kotlin.CharSequence)/caption">caption</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char-sequence/index.html"><span class="identifier">CharSequence</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">)</span><span class="symbol">: </span><a href="../ai.tock.bot.connector.whatsapp.model.send/-whats-app-bot-image-message/index.html"><span class="identifier">WhatsAppBotImageMessage</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="whats-app-interactive-message.html">whatsAppInteractiveMessage</a></h4>
</td>
<td>
<p>Creates a <a href="../ai.tock.bot.connector.whatsapp.model.send/-whats-app-bot-interactive-message/index.html">WhatsAppBotInteractiveMessage</a></p>
<code><span class="keyword">fun </span><a href="../ai.tock.bot.engine/-bot-bus/index.html"><span class="identifier">BotBus</span></a><span class="symbol">.</span><span class="identifier">whatsAppInteractiveMessage</span><span class="symbol">(</span><span class="identifier" id="ai.tock.bot.connector.whatsapp$whatsAppInteractiveMessage(ai.tock.bot.engine.BotBus, kotlin.String, kotlin.String, kotlin.collections.List((ai.tock.bot.connector.whatsapp.model.webhook.WhatsAppComponent)))/nameSpace">nameSpace</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">, </span><span class="identifier" id="ai.tock.bot.connector.whatsapp$whatsAppInteractiveMessage(ai.tock.bot.engine.BotBus, kotlin.String, kotlin.String, kotlin.collections.List((ai.tock.bot.connector.whatsapp.model.webhook.WhatsAppComponent)))/templateName">templateName</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">, </span><span class="identifier" id="ai.tock.bot.connector.whatsapp$whatsAppInteractiveMessage(ai.tock.bot.engine.BotBus, kotlin.String, kotlin.String, kotlin.collections.List((ai.tock.bot.connector.whatsapp.model.webhook.WhatsAppComponent)))/components">components</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../ai.tock.bot.connector.whatsapp.model.webhook/-whats-app-component/index.html"><span class="identifier">WhatsAppComponent</span></a><span class="symbol">&gt;</span><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;emptyList()<span class="symbol">)</span><span class="symbol">: </span><a href="../ai.tock.bot.connector.whatsapp.model.send/-whats-app-bot-interactive-message/index.html"><span class="identifier">WhatsAppBotInteractiveMessage</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="whats-app-text.html">whatsAppText</a></h4>
</td>
<td>
<p>Creates a <a href="../ai.tock.bot.connector.whatsapp.model.send/-whats-app-bot-text-message/index.html">WhatsAppBotTextMessage</a>.</p>
<code><span class="keyword">fun </span><a href="../ai.tock.bot.engine/-bot-bus/index.html"><span class="identifier">BotBus</span></a><span class="symbol">.</span><span class="identifier">whatsAppText</span><span class="symbol">(</span><span class="identifier" id="ai.tock.bot.connector.whatsapp$whatsAppText(ai.tock.bot.engine.BotBus, kotlin.CharSequence, kotlin.Boolean)/text">text</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char-sequence/index.html"><span class="identifier">CharSequence</span></a><span class="symbol">, </span><span class="identifier" id="ai.tock.bot.connector.whatsapp$whatsAppText(ai.tock.bot.engine.BotBus, kotlin.CharSequence, kotlin.Boolean)/previewUrl">previewUrl</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a>&nbsp;<span class="symbol">=</span>&nbsp;false<span class="symbol">)</span><span class="symbol">: </span><a href="../ai.tock.bot.connector.whatsapp.model.send/-whats-app-bot-text-message/index.html"><span class="identifier">WhatsAppBotTextMessage</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="with-whats-app.html">withWhatsApp</a></h4>
</td>
<td>
<p>Adds a WhatsApp <a href="../ai.tock.bot.connector/-connector-message/index.html">ConnectorMessage</a> if the current connector is WhatsApp.
You need to call <a href="../ai.tock.bot.engine/-bot-bus/send.html">BotBus.send</a> or <a href="../ai.tock.bot.engine/-bot-bus/end.html">BotBus.end</a> later to send this message.</p>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../ai.tock.bot.engine/-bus/index.html"><span class="identifier">Bus</span></a><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span> <span class="identifier">T</span><span class="symbol">.</span><span class="identifier">withWhatsApp</span><span class="symbol">(</span><span class="identifier" id="ai.tock.bot.connector.whatsapp$withWhatsApp(ai.tock.bot.connector.whatsapp.withWhatsApp.T, kotlin.Function0((ai.tock.bot.connector.whatsapp.model.send.WhatsAppBotMessage)))/messageProvider">messageProvider</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../ai.tock.bot.connector.whatsapp.model.send/-whats-app-bot-message/index.html"><span class="identifier">WhatsAppBotMessage</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">T</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
